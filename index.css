/* ============================================
   ÁRBOL GENEALÓGICO - CUSTOM THEME SYSTEM
   Colores: Olive/Sage Green + Teal + Blue-Gray
   ============================================ */

/* Importar temas visuales */
@import './styles/rustic-theme.css';

/* ============ CSS VARIABLES - LIGHT MODE (default) ============ */
@layer base {
  :root {
    --text-50: #f4f5ef;
    --text-100: #e9ebe0;
    --text-200: #d3d7c1;
    --text-300: #bdc3a2;
    --text-400: #a6af83;
    --text-500: #909c63;
    --text-600: #737c50;
    --text-700: #575d3c;
    --text-800: #3a3e28;
    --text-900: #1d1f14;
    --text-950: #0e100a;

    --background-50: #f4f5ef;
    --background-100: #e8ebe0;
    --background-200: #d1d8c0;
    --background-300: #bac4a1;
    --background-400: #a3b082;
    --background-500: #8c9d62;
    --background-600: #707d4f;
    --background-700: #545e3b;
    --background-800: #383f27;
    --background-900: #1c1f14;
    --background-950: #0e100a;

    --primary-50: #f4f5f0;
    --primary-100: #e9ebe0;
    --primary-200: #d3d7c1;
    --primary-300: #bdc3a2;
    --primary-400: #a7ae84;
    --primary-500: #909a65;
    --primary-600: #747b51;
    --primary-700: #575d3c;
    --primary-800: #3a3e28;
    --primary-900: #1d1f14;
    --primary-950: #0e0f0a;

    --secondary-50: #f0f5f3;
    --secondary-100: #e0ebe7;
    --secondary-200: #c1d7ce;
    --secondary-300: #a2c3b6;
    --secondary-400: #84ae9e;
    --secondary-500: #659a86;
    --secondary-600: #517b6b;
    --secondary-700: #3c5d50;
    --secondary-800: #283e35;
    --secondary-900: #141f1b;
    --secondary-950: #0a0f0d;

    --accent-50: #f0f4f5;
    --accent-100: #e0e8eb;
    --accent-200: #c1d2d7;
    --accent-300: #a2bbc3;
    --accent-400: #84a4ae;
    --accent-500: #658e9a;
    --accent-600: #51717b;
    --accent-700: #3c555d;
    --accent-800: #28393e;
    --accent-900: #141c1f;
    --accent-950: #0a0e0f;

    /* App semantic colors - LIGHT */
    --app-bg: var(--background-50);
    --app-bg-secondary: var(--background-100);
    --app-text: var(--text-950);
    --app-text-muted: var(--text-600);
    --app-text-subtle: var(--text-500);
    --card-bg: rgba(255, 255, 255, 0.95);
    --card-bg-solid: #ffffff;
    --card-border: var(--primary-200);
    --menu-bg: rgba(255, 255, 255, 0.98);
    --menu-border: var(--primary-200);
    --input-bg: #ffffff;
    --input-border: var(--primary-300);
    --input-text: var(--text-950);
    --modal-bg: rgba(255, 255, 255, 0.98);
    --modal-overlay: rgba(14, 16, 10, 0.6);
    --scroll-track: var(--background-100);
    --scroll-thumb: var(--primary-400);
    --dot-color: rgba(167, 174, 132, 0.3);
    --button-primary-bg: var(--secondary-600);
    --button-primary-text: var(--text-50);
    --button-secondary-bg: var(--background-100);
    --button-secondary-text: var(--text-900);
    --button-secondary-border: var(--primary-300);
    --accent-highlight: var(--accent-500);
    --accent-highlight-light: var(--accent-200);
    --success-color: var(--secondary-500);
    --heart-color: #e11d48;
    --heart-bg: rgba(225, 29, 72, 0.1);

    /* Gradients */
    --gradient-primary-accent: linear-gradient(135deg, var(--primary-500), var(--accent-500));
    --gradient-secondary-accent: linear-gradient(135deg, var(--secondary-500), var(--accent-500));
  }

  .dark {
    --text-50: #0e100a;
    --text-100: #1d1f14;
    --text-200: #3a3e28;
    --text-300: #575d3c;
    --text-400: #737c50;
    --text-500: #909c63;
    --text-600: #a6af83;
    --text-700: #bdc3a2;
    --text-800: #d3d7c1;
    --text-900: #e9ebe0;
    --text-950: #f4f5ef;

    --background-50: #0e100a;
    --background-100: #1c1f14;
    --background-200: #383f27;
    --background-300: #545e3b;
    --background-400: #707d4f;
    --background-500: #8c9d62;
    --background-600: #a3b082;
    --background-700: #bac4a1;
    --background-800: #d1d8c0;
    --background-900: #e8ebe0;
    --background-950: #f4f5ef;

    --primary-50: #0e0f0a;
    --primary-100: #1d1f14;
    --primary-200: #3a3e28;
    --primary-300: #575d3c;
    --primary-400: #747b51;
    --primary-500: #909a65;
    --primary-600: #a7ae84;
    --primary-700: #bdc3a2;
    --primary-800: #d3d7c1;
    --primary-900: #e9ebe0;
    --primary-950: #f4f5f0;

    --secondary-50: #0a0f0d;
    --secondary-100: #141f1b;
    --secondary-200: #283e35;
    --secondary-300: #3c5d50;
    --secondary-400: #517b6b;
    --secondary-500: #659a86;
    --secondary-600: #84ae9e;
    --secondary-700: #a2c3b6;
    --secondary-800: #c1d7ce;
    --secondary-900: #e0ebe7;
    --secondary-950: #f0f5f3;

    --accent-50: #0a0e0f;
    --accent-100: #141c1f;
    --accent-200: #28393e;
    --accent-300: #3c555d;
    --accent-400: #51717b;
    --accent-500: #658e9a;
    --accent-600: #84a4ae;
    --accent-700: #a2bbc3;
    --accent-800: #c1d2d7;
    --accent-900: #e0e8eb;
    --accent-950: #f0f4f5;

    /* App semantic colors - DARK */
    --app-bg: var(--background-50);
    --app-bg-secondary: var(--background-100);
    --app-text: var(--text-950);
    --app-text-muted: var(--text-800);
    --app-text-subtle: var(--text-700);
    --card-bg: rgba(28, 31, 20, 0.95);
    --card-bg-solid: #1c1f14;
    --card-border: var(--primary-300);
    --menu-bg: rgba(28, 31, 20, 0.95);
    --menu-border: var(--primary-400);
    --input-bg: var(--background-100);
    --input-border: var(--primary-400);
    --input-text: var(--text-950);
    --modal-bg: rgba(28, 31, 20, 0.98);
    --modal-overlay: rgba(0, 0, 0, 0.8);
    --scroll-track: var(--background-100);
    --scroll-thumb: var(--primary-500);
    --dot-color: rgba(84, 94, 59, 0.4);
    --button-primary-bg: var(--secondary-500);
    --button-primary-text: var(--text-950);
    --button-secondary-bg: var(--background-200);
    --button-secondary-text: var(--text-900);
    --button-secondary-border: var(--primary-400);
    --accent-highlight: var(--accent-500);
    --accent-highlight-light: var(--accent-300);
    --success-color: var(--secondary-600);
    --heart-color: #fb7185;
    --heart-bg: rgba(251, 113, 133, 0.2);

    /* Gradients */
    --gradient-primary-accent: linear-gradient(135deg, var(--primary-600), var(--accent-600));
    --gradient-secondary-accent: linear-gradient(135deg, var(--secondary-600), var(--accent-500));
  }
}

/* ============ BASE STYLES ============ */
body {
  background-color: var(--app-bg);
  color: var(--app-text);
  background-image: radial-gradient(var(--dot-color) 1px, transparent 1px);
  background-size: 20px 20px;
  transition: background-color 200ms ease-out, color 200ms ease-out;
}

/* ============ REACT FLOW CANVAS ============ */
.react-flow__pane {
  background-color: var(--app-bg) !important;
  background-image: radial-gradient(var(--dot-color) 1px, transparent 1px) !important;
  background-size: 24px 24px !important;
}

.react-flow__background {
  background-color: var(--app-bg) !important;
}

.react-flow__background pattern circle {
  fill: var(--dot-color) !important;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--scroll-track);
}

::-webkit-scrollbar-thumb {
  background: var(--scroll-thumb);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--accent-highlight);
}

/* ============ NODE CARDS ============ */
.person-node-card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  color: var(--app-text);
}

.person-node-card:hover {
  box-shadow: 0 8px 25px -5px rgba(68, 105, 91, 0.2);
}

.person-node-card.focused {
  border-color: var(--accent-highlight);
  box-shadow: 0 0 20px rgba(104, 144, 156, 0.3);
}

/* ============ OVERRIDES FOR SLATE CLASSES ============ */

/* Background overrides */
.bg-slate-900,
.bg-slate-900\/90,
.bg-slate-900\/95,
.bg-slate-900\/80,
.bg-slate-900\/40 {
  background-color: var(--card-bg) !important;
}

.bg-slate-800,
.bg-slate-800\/90,
.bg-slate-800\/80,
.bg-slate-800\/50,
.bg-slate-800\/40,
.bg-slate-800\/60 {
  background-color: var(--button-secondary-bg) !important;
}

/* Border overrides */
.border-slate-700\/50,
.border-slate-700\/40,
.border-slate-700,
.border-slate-800\/50,
.border-slate-800\/60,
.border-slate-800\/40,
.border-slate-800 {
  border-color: var(--card-border) !important;
}

/* Text overrides */
.text-white {
  color: #ffffff !important;
}

.dark .text-white {
  color: var(--text-950) !important;
}

.text-slate-100,
.text-slate-200,
.text-slate-300 {
  color: var(--app-text) !important;
}

.text-slate-400 {
  color: var(--app-text-muted) !important;
}

.text-slate-500 {
  color: var(--app-text-subtle) !important;
}

/* ============ INPUTS ============ */
input:not([type="file"]):not([type="checkbox"]):not([type="radio"]),
textarea,
select {
  background-color: var(--input-bg) !important;
  color: var(--input-text) !important;
  border-color: var(--input-border) !important;
}

input::placeholder,
textarea::placeholder {
  color: var(--app-text-muted) !important;
}

input:focus,
textarea:focus,
select:focus {
  border-color: var(--accent-highlight) !important;
  box-shadow: 0 0 0 3px rgba(104, 144, 156, 0.25) !important;
  outline: none !important;
}

button:disabled {
  opacity: 0.5 !important;
  cursor: not-allowed !important;
}

.dark button:disabled {
  background-color: var(--background-200) !important;
  color: var(--text-400) !important;
}

/* ============ MODAL BACKGROUNDS ============ */
.bg-gradient-to-b.from-slate-800.to-slate-900,
.bg-gradient-to-b.from-slate-800\/95.to-slate-900\/95 {
  background: var(--modal-bg) !important;
}

.bg-black\/80,
.bg-black\/70 {
  background-color: var(--modal-overlay) !important;
}

/* ============ ACCENT COLOR CLASSES ============ */
.text-cyan-400,
.text-cyan-500 {
  color: var(--accent-highlight) !important;
}

.bg-cyan-500\/20,
.bg-cyan-500\/10 {
  background-color: var(--accent-highlight-light) !important;
}

.ring-cyan-500\/40,
.ring-cyan-500\/30,
.ring-cyan-400\/60 {
  --tw-ring-color: rgba(104, 144, 156, 0.4) !important;
}

/* ============ SUCCESS/EMERALD COLORS ============ */
.text-emerald-400,
.text-emerald-500 {
  color: var(--success-color) !important;
}

.bg-emerald-500\/20,
.bg-emerald-500\/10 {
  background-color: rgba(101, 154, 134, 0.2) !important;
}

/* ============ HEART/PINK COLORS ============ */
.text-pink-400,
.text-pink-500,
.text-pink-600 {
  color: var(--heart-color) !important;
}

.bg-pink-100,
.bg-pink-50 {
  background-color: var(--heart-bg) !important;
}

/* ============ HOVER STATES ============ */
.hover\:bg-slate-800:hover,
.hover\:bg-slate-800\/80:hover {
  background-color: var(--background-200) !important;
}

.hover\:bg-slate-700:hover,
.hover\:bg-slate-700\/50:hover {
  background-color: var(--primary-200) !important;
}

.hover\:bg-cyan-500\/20:hover {
  background-color: var(--accent-highlight-light) !important;
}

/* ============ FAMILY LIST VIEW ============ */
.divide-slate-800\/60>*+* {
  border-color: var(--card-border) !important;
}

.border-t.border-slate-800\/40 {
  border-color: var(--card-border) !important;
}

/* ============ ACTION MENU BAR ============ */
.from-slate-900\/95,
.to-slate-800\/95 {
  background: var(--card-bg) !important;
}

/* ============ CHIPS/BADGES ============ */
.bg-slate-700\/60,
.bg-slate-700\/50 {
  background-color: var(--background-200) !important;
  color: var(--app-text) !important;
}

/* Role badges for FamilyListView */
.focus-badge {
  background: var(--secondary-100);
  color: var(--secondary-700);
  border-color: var(--secondary-300);
}

.parent-badge {
  background: var(--accent-100);
  color: var(--accent-700);
  border-color: var(--accent-300);
}

.partner-badge {
  background: rgba(236, 72, 153, 0.1);
  color: #be185d;
  border-color: rgba(236, 72, 153, 0.3);
}

.child-badge {
  background: rgba(139, 92, 246, 0.1);
  color: #6d28d9;
  border-color: rgba(139, 92, 246, 0.3);
}

.sibling-badge {
  background: var(--primary-100);
  color: var(--primary-700);
  border-color: var(--primary-300);
}

.default-badge {
  background: var(--background-100);
  color: var(--app-text);
  border-color: var(--card-border);
}

.dark .partner-badge {
  background: rgba(236, 72, 153, 0.15);
  color: #f9a8d4;
  border-color: rgba(236, 72, 153, 0.25);
}

.dark .child-badge {
  background: rgba(139, 92, 246, 0.15);
  color: #c4b5fd;
  border-color: rgba(139, 92, 246, 0.25);
}

/* ============ BUTTONS ============ */
.bg-gradient-to-r.from-cyan-500.to-emerald-500,
.bg-gradient-to-r.from-cyan-600.to-emerald-600 {
  background: var(--gradient-secondary-accent) !important;
}

button.bg-slate-800,
button.bg-slate-700 {
  background-color: var(--button-secondary-bg) !important;
  color: var(--button-secondary-text) !important;
  border-color: var(--button-secondary-border) !important;
}

/* ============ ZOOM CONTROLS ============ */
.react-flow__controls {
  background: var(--card-bg) !important;
  border: 1px solid var(--card-border) !important;
  border-radius: 12px !important;
}

.react-flow__controls-button {
  background: transparent !important;
  color: var(--app-text) !important;
  border: none !important;
}

.react-flow__controls-button:hover {
  background: var(--background-200) !important;
}

/* ============ TUTORIAL/WELCOME SCREEN ============ */
.tutorial-overlay {
  background: var(--modal-overlay);
}

.tutorial-card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
}

/* ============ GENERATION BADGES ============ */
.generation-badge {
  background: var(--gradient-primary-accent);
  color: var(--text-950);
}

/* ============ SMOOTH TRANSITIONS ============ */
body,
.react-flow__pane,
input,
button,
.person-node-card {
  transition: background-color 200ms ease-out,
    border-color 200ms ease-out,
    color 200ms ease-out;
}

/* ============ SELECTION STYLES ============ */
::selection {
  background-color: var(--accent-highlight);
  color: var(--text-950);
}

/* ============ FOCUS VISIBLE ============ */
button:focus-visible,
a:focus-visible {
  outline: 2px solid var(--accent-highlight);
  outline-offset: 2px;
}